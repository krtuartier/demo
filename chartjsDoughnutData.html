<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="keywords" content="" />
		<meta name="description" content="" />
		<meta name="screen-orientation" content="portrait">
		<meta name="x5-orientation" content="portrait">
		<meta name="viewport" content="initial-scale=1.0, maximum-scale=1, user-scalable=no,width=device-width,height=device-height" />
		
		<title></title>
		
		<link rel="stylesheet" type="text/css" href="css/ydui.css"/>
		<style type="text/css">
			body{
				background-color: #fff;
			}
			canvas{
				float: left;
			}
		</style>
		<script src="js/chartjs.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<canvas id="canvas"></canvas>
		<canvas id="canvas1"></canvas>
	</body>
	<script type="text/javascript">
		var oCanvas=document.getElementById("canvas");
		
		var oBody=document.querySelector("body");
		var valW=oBody.clientWidth;
		var valH=valW/600*450;
		oCanvas.width=valW*.5;
		oCanvas.height=valH*.5;
		
		var oCanvas1=document.getElementById("canvas1");
		oCanvas1.width=valW*.5;
		oCanvas1.height=valH*.5;

		
		var ajaxdata=[
			{
				value: 25
			},
			{
				value: 75
			}
		];
		
		var doughnutData = [
				{
					value: ajaxdata[0].value,
					color:"rgb(255,235,0)"
				},
				{
					value : ajaxdata[1].value,
					color : "rgb(237,237,237)"
				}
			];
		var doughnutData1 = [
				{
					value: ajaxdata[1].value,
					color:"rgb(0,235,0)"
				},
				{
					value : ajaxdata[0].value,
					color : "rgb(237,237,237)"
				}
			];
		var pNum=[127,504];
		var doughnutOptions={
			'percentageInnerCutout' : 80,
			'onAnimationComplete':function(res){
				console.log(res);
				var ctx=res.ctx;
				ctx.beginPath();
				ctx.font='20px SanFrancisco';
				ctx.textAlign="center";
    			ctx.fillStyle=doughnutData[0].color;
				ctx.fillText(ajaxdata[0].value+'%',valW*.25,valH*.25);
				
				ctx.font='10px SanFrancisco';
				ctx.textAlign="center";
    			ctx.fillStyle='#000000';
				ctx.fillText(pNum[0]+'人',valW*.25,valH*.35);
				
				ctx.closePath();
			}
		};
		var doughnutOptions1={
			'percentageInnerCutout' : 80,
			'onAnimationComplete':function(res){
				console.log(res);
				var ctx=res.ctx;
				ctx.beginPath();
				
				ctx.font='20px SanFrancisco';
				ctx.textAlign="center";
    			ctx.fillStyle=doughnutData1[0].color;
				ctx.fillText(ajaxdata[1].value+'%',valW*.25,valH*.25);
				
				ctx.font='10px SanFrancisco';
				ctx.textAlign="center";
    			ctx.fillStyle='#000000';
				ctx.fillText(pNum[1]+'人',valW*.25,valH*.35);
				
				ctx.closePath();
			}
		};
		
		var myDoughnut = new Chart(document.getElementById("canvas").getContext("2d")).Doughnut(doughnutData,doughnutOptions);
		
		var myDoughnut1 = new Chart(document.getElementById("canvas1").getContext("2d")).Doughnut(doughnutData1,doughnutOptions1);
		
	
	</script>
</html>
